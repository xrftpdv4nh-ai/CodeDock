// utils/obfuscateArabic.js

module.exports = function obfuscateArabic(text) {
  if (!text || typeof text !== "string") return text;

  const map = {
    // ألف
    "ا": "ـ9",
    "أ": "ـ9",
    "إ": "ـ9",
    "آ": "ـ9",

    // ب ت
    "ب": "بـ9",
    "ت": "ت",
    "ث": "ث",

    // ج ح خ
    "ج": "ج",
    "ح": "ح",
    "خ": "خـ1",

    // د ذ
    "د": "د",
    "ذ": "ذ",

    // ر ز
    "ر": "ر",
    "ز": "z",

    // س ش
    "س": "سـ3",
    "ش": "شـ&",

    // ص ض ط ظ
    "ص": "ص",
    "ض": "ض",
    "ط": "طـL",
    "ظ": "ظ",

    // ع غ
    "ع": "ـ3",
    "غ": "غ",

    // ف ق
    "ف": "ف",
    "ق": "ق",

    // ك ل
    "ك": "كـ9",
    "ل": "ل",

    // م ن
    "م": "م",
    "ن": "ن",

    // ه و ي
    "ه": "ه",
    "و": "و",
    "ي": "ي",

    // تاء مربوطة
    "ة": "ة",

    // همزات
    "ء": "",
    "ؤ": "و",
    "ئ": "ي"
  };

  let out = "";
  for (const ch of text) {
    out += map[ch] ?? ch;
  }

  return out;
};
